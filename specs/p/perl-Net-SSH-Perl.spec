%define _unpackaged_files_terminate_build 1
%define dist Net-SSH-Perl

#
#   - Net-SSH-Perl -
#   This spec file was automatically generated by cpan2rpm [ver: 2.027]
#   (ALT Linux revision)
#   The following arguments were used:
#       Net::SSH::Perl
#   For more information on cpan2rpm please visit: http://perl.arix.com/
#

%define module Net-SSH-Perl
%define m_distro Net-SSH-Perl
%define m_name Net-SSH-Perl
%define real_name Net-SSH-Perl


%define m_author_id unknown
%define _enable_test 0

#define perl_vendorlib %(eval "`perl -V:installvendorlib`"; echo $installvendorlib)
#define perl_vendorarch %(eval "`perl -V:installvendorarch`"; echo $installvendorarch)

Summary: Perl client interface to SSH
Name: perl-%dist
Version: 2.14
Release: alt1.1
License: %perl_license
Group: Development/Perl
#URL: %CPAN %dist
URL: http://github.com/lkinley/%dist

Source0: http://www.cpan.org/authors/id/S/SC/SCHWIGON/%{module}-%{version}.tar.gz

#BuildArch: noarch

BuildRequires: rpm-build-licenses

BuildRequires: perl-devel perl-Crypt-DH perl-Crypt-DSA perl-Crypt-IDEA perl-Crypt-RSA perl-Digest-BubbleBabble perl-Digest-HMAC perl-Math-GMP perl-String-CRC32 perl-Crypt-Blowfish perl-Crypt-DES perl-Math-BigInt-GMP perl-Crypt-DES_EDE3 perl(File/HomeDir.pm)
BuildRequires: perl-IO-Socket-Socks perl-CryptX perl-Crypt-OpenSSH-ChachaPoly perl-Crypt-Curve25519 perl-Crypt-Ed25519

%description
Net::SSH::Perl contains implementations of
both the SSH1 and SSH2 protocols.

%prep
%setup -q -n %{module}-%{version}
perl -pi -e "s|use Socket;|use IO::Socket;\nuse Socket;|g;" lib/Net/SSH/Perl.pm

%build
echo "3" | perl Makefile.PL INSTALLDIRS="vendor" PREFIX="%buildroot%_prefix"
%make %?_smp_mflags

%install
%perl_vendor_install

%files
%doc Changes README ToDo LICENSE
%defattr(-, root, root, 0755)
%doc Changes README
#dir %perl_vendor_privlib/Net/
#dir %perl_vendor_privlib/*
#dir %perl_vendor_privlib/Net/SSH/
#perl_vendorlib/Net/SSH/Perl.pm
#perl_vendorlib/Net/SSH/Perl/
%perl_vendor_archlib/Net*
%perl_vendor_autolib/Net*


%changelog
* Fri Dec 15 2017 Igor Vlasenko <viy@altlinux.ru> 2.14-alt1.1
- rebuild with new perl 5.26.1

* Mon Oct 02 2017 Igor Vlasenko <viy@altlinux.ru> 2.14-alt1
- automated CPAN update

* Mon Feb 22 2016 Sergey Y. Afonin <asy@altlinux.ru> 2.01-alt1
- NMU
- new version (Closed #31818; switched to
  http://github.com/lkinley/Net-SSH-Perl instead of CPAN)

* Sun Oct 11 2015 Igor Vlasenko <viy@altlinux.ru> 1.42-alt1
- automated CPAN update

* Tue Oct 07 2014 Igor Vlasenko <viy@altlinux.ru> 1.38-alt1
- automated CPAN update

* Wed Apr 02 2014 Igor Vlasenko <viy@altlinux.ru> 1.37-alt1
- automated CPAN update

* Sat Oct 05 2013 Igor Vlasenko <viy@altlinux.ru> 1.36-alt1
- automated CPAN update

* Wed Jul 24 2013 Igor Vlasenko <viy@altlinux.ru> 1.35-alt1
- automated CPAN update

* Mon Nov 22 2010 Igor Vlasenko <viy@altlinux.ru> 1.34-alt1.1
- repair after perl 5.12 upgrade using girar-nmu

* Tue Jul 13 2010 Igor Vlasenko <viy@altlinux.ru> 1.34-alt1
- automated CPAN update

* Fri Sep 05 2008 Mikhail Pokidko <pma@altlinux.org> 1.30-alt5
- sisyphus_check fixes

* Mon Jun 04 2007 Mikhail Pokidko <pma@altlinux.org> 1.30-alt4
- Closed #11955. BuildReq change

* Thu Mar 29 2007 Mikhail Pokidko <pma@altlinux.ru> 1.30-alt3
- RH patch. Package should pass build stage now

* Mon Jan 15 2007 Mikhail Pokidko <pma@altlinux.ru> 1.30-alt2
- fixing rebuild crash while tests

* Wed Nov 15 2006 Mikhail Pokidko <pma@altlinux.ru> 1.30-alt1
- first build for ALT Linux Sisyphus
